<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalkulaƒçka elix√≠r≈Ø</title>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LE9YQLBLJQ"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-LE9YQLBLJQ');
</script>

<style>
body {
    font-family: Arial, sans-serif;
    max-width: 650px;
    margin: 40px auto;
    background: radial-gradient(circle at top, #5b3e1e, #1a1208 70%);
}

h2 {
    text-align: center;
    color: #fff;
}

.card {
    background: rgba(0,0,0,0.65);
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 0 40px rgba(0,0,0,0.6);
}

label {
    font-weight: bold;
    color: #fff;
}

select, input {
    width: 100%;
    height: 48px;              /* üî• jednotn√° v√Ω≈°ka */
    padding: 0 12px;           /* horizont√°ln√≠ padding */
    margin: 6px 0 16px 0;      /* üî• stejn√° mezera v≈°ude */
    border-radius: 8px;
    border: none;
    box-sizing: border-box;
    font-size: 16px;
}

#vysledek {
    background: rgba(255,255,255,0.08);
    padding: 14px 16px;
    border-radius: 6px;

    /* üî• TOTO JE KL√çƒå */
    margin: 6px 0 15px 0;
    width: 100%;
    box-sizing: border-box;
}

#vysledek.fade {
    opacity: 0;
    transform: translateY(6px);
}

.footer {
    text-align: center;
    font-size: 12px;
    color: #aaa;
    margin-top: 15px;
}

.elixir-row {
    display: flex;
    gap: 10px;
}

.elixir-row img {
    height: 32px;
    width: 32px;
    flex-shrink: 0;
    margin-top: 12px;
}

/* ===== EKURA BUTTON ===== */
.ekura-btn {
    display: block;
    text-align: center;
    margin-top: 18px;
    padding: 12px;
    background: linear-gradient(#ff9b1f, #d97400);
    color: #000;
    font-weight: bold;
    text-decoration: none;
    border-radius: 8px;
    box-shadow:
        inset 0 0 0 1px #ffb347,
        0 4px 10px rgba(0,0,0,0.6);
    transition: all 0.25s ease;
}

.ekura-btn:hover {
    background: linear-gradient(#ffb347, #ff8c00);
    box-shadow:
        0 0 10px rgba(255,165,0,0.9),
        0 0 22px rgba(255,165,0,0.8),
        0 0 40px rgba(255,140,0,0.7),
        inset 0 0 0 1px #ffd27d;
}

/* üì± MOBILE */
@media (max-width: 600px) {
    body { margin: 0; padding: 10px; }
    .card { padding: 18px; }
    h2 { font-size: 22px; }
    select, input { font-size: 16px; padding: 12px; }
}

@keyframes shake {
    0%   { transform: translateX(0); }
    20%  { transform: translateX(-3px); }
    40%  { transform: translateX(3px); }
    60%  { transform: translateX(-3px); }
    80%  { transform: translateX(3px); }
    100% { transform: translateX(0); }
}

.elixir-shake {
    animation: shake 0.25s ease;
}

.surovina-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 0;
    color: #fff; 
}

.surovina-left {
    display: flex;
    align-items: center;
    gap: 8px;
}

.surovina-left img {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
}

.surovina-right {
    font-weight: bold;
    white-space: nowrap;
}
.surovina-row img {
    width: 22px;
    height: 22px;
    flex-shrink: 0;
}

.surovina-nazev {
    flex: 1;
}

.surovina-pocet {
    font-weight: bold;
    white-space: nowrap;
}

.surovina-row {
    transition: background 0.2s ease, transform 0.2s ease;
    border-radius: 6px;
    padding: 4px 6px;
}

.surovina-row:hover {
    background: rgba(255,255,255,0.08);
    transform: translateX(4px);
}
</style>
</head>

<body>

<h2>Kalkulaƒçka elix√≠r≈Ø</h2>

<div class="card">

<label>Elix√≠r</label>
<div class="elixir-row">
    <img id="elixirIcon" src="rychlost_pohybu_s.png" alt="">
    <select id="elixir" onchange="nastavVelikosti(); zmenIkonu(); autoSpocitat();">
        <optgroup label="Klasick√©">
            <option value="rychlost_pohybu">Rychlost pohybu</option>
            <option value="rychlost_utoku">Rychlost √∫toku</option>
            <option value="rychlost_kouzel">Rychlost kouzel</option>
            <option value="utok_magii">√ötok magi√≠</option>
            <option value="kriticky_utok">Kritick√Ω √∫tok</option>
            <option value="prunik">Pr≈Ønik</option>
            <option value="zb">ZB</option>
            <option value="mb">MB</option>
            <option value="utok">√ötok</option>
            <option value="obrana">Obrana</option>
        </optgroup>
        <optgroup label="Statov√©">
            <option value="sila">S√≠la</option>
            <option value="obratnost">Obratnost</option>
            <option value="inteligence">Inteligence</option>
            <option value="vitalita">Vitalita</option>
        </optgroup>
    </select>
</div>

<label>Velikost elix√≠ru</label>
<select id="velikost"></select>

<label>Poƒçet kus≈Ø</label>
<input type="number" id="kusy" value="1" min="1">

<h3 style="color:white;">Pot≈ôebn√© rostliny</h3>
<div id="vysledek"></div>

<a class="ekura-btn" href="https://www.ekura.cz/lektvary" target="_blank">
    P≈ôej√≠t na Ekura.cz ‚Äì Elix√≠ry
</a>

<div class="footer">Created by BakeDave and ChatGPT</div>
</div>

<script>
/* ===== IKONY ===== */
const ikony = {
    rychlost_pohybu: "rychlost_pohybu.png",
    rychlost_utoku: "rychlost_utoku.png",
    rychlost_kouzel: "rychlost_kouzel.png",
    utok_magii: "magie.png",
    kriticky_utok: "kriticky_utok.png",
    prunik: "prunik.png",
    zb: "ZB.png",
    mb: "MB.png",
    utok: "utok.png",
    obrana: "Obrana.png",
    sila: "sila.png",
    obratnost: "Obratnost.png",
    inteligence: "inteligence.png",
    vitalita: "Vitalita.png"
};

/* ===== IKONY SUROVIN ===== */
const surovinyIkony = {
    "ƒåerven√° bylina": "cervena_bylina.png",
    "Modr√° bylina": "modra_bylina.png",
    "Zelen√° bylina": "zelena_bylina.png",
    "Fialov√° bylina": "fialova_bylina.png",
    "B√≠l√° bylina": "bila_bylina.png",

    "R≈Ø≈æov√° orchidej": "ruzova_orchidej.png",
    "Modr√° orchidej": "modra_orchidej.png",

    "Bodl√°k": "bodlak.png",
    "Broskvov√Ω kvƒõt": "broskovy_kvet.png",
    "Datle": "datle.png",
    "Gango": "gango.png",
    "Kakikvƒõt": "kakikvet.png",
    "Moru≈°e": "moruse.png",
    "Rododendron": "rododendron.png",
    "Sam-Zi": "sam_zi.png",
    "≈†e≈ô√≠k": "serik.png",
    "Smet√°nka": "smetanka.png",
    "Tue": "tue.png",
    "Zvonek": "zvonek.png",

    "Yangy": "yang.png"
};

function zmenIkonu() {
    let elixir = document.getElementById("elixir").value;
    const tier = document.getElementById("velikost").value || "S";
    const img = document.getElementById("elixirIcon");

    // üí• reset animace
    img.classList.remove("elixir-shake");
    void img.offsetWidth; // trik, aby ≈°la animace spustit znovu

    // v√Ωjimka pro magii
    if (elixir === "utok_magii") {
        elixir = "magie";
    }

    let suffix = "_s";
    if (tier === "S+") suffix = "_s1";
    else if (tier === "M") suffix = "_m";
    else if (tier === "M+") suffix = "_m1";
    else if (tier === "L") suffix = "_l";
    else if (tier === "L+") suffix = "_l1";

    img.src = `${elixir}${suffix}.png`;

    // ‚ú® SPU≈†TƒöN√ç ANIMACE
    img.classList.add("elixir-shake");
}

/* ===== RECEPTY ===== */
const recepty = {
    rychlost_pohybu:{typ:"klasicky",S:{"≈†e≈ô√≠k":1},M:{"Sam-Zi":1},L:{"Zelen√° bylina":1},Lplus:{L:10,"R≈Ø≈æov√° orchidej":5,"Modr√° orchidej":2,"Yangy":2000000}},
    rychlost_utoku:{typ:"klasicky",S:{"Rododendron":1},M:{"Sam-Zi":1},L:{"Zelen√° bylina":1},Lplus:{L:10,"R≈Ø≈æov√° orchidej":2,"Modr√° orchidej":5,"Yangy":2000000}},
    rychlost_kouzel:{typ:"klasicky",S:{"Moru≈°e":1},M:{"Sam-Zi":1},L:{"Zelen√° bylina":1},Lplus:{L:10,"R≈Ø≈æov√° orchidej":2,"Modr√° orchidej":5,"Yangy":2000000}},
    utok_magii:{typ:"klasicky",S:{"Moru≈°e":1,"Smet√°nka":1},M:{"Bodl√°k":1},L:{"Modr√° bylina":1},Lplus:{L:10,"R≈Ø≈æov√° orchidej":5,"Modr√° orchidej":2,"Yangy":2000000}},
    kriticky_utok:{typ:"klasicky",S:{"Rododendron":1,"Smet√°nka":1},M:{"Bodl√°k":1},L:{"Modr√° bylina":1},Lplus:{L:10,"R≈Ø≈æov√° orchidej":2,"Modr√° orchidej":5,"Yangy":2000000}},
    prunik:{typ:"klasicky",S:{"≈†e≈ô√≠k":1,"Smet√°nka":1},M:{"Bodl√°k":1},L:{"Modr√° bylina":1},Lplus:{L:10,"R≈Ø≈æov√° orchidej":5,"Modr√° orchidej":2,"Yangy":2000000}},
    zb:{typ:"klasicky",S:{"Gango":1,"Tue":1},M:{"Datle":1},L:{"ƒåerven√° bylina":1},Lplus:{L:10,"R≈Ø≈æov√° orchidej":2,"Modr√° orchidej":5,"Yangy":2000000}},
    mb:{typ:"klasicky",S:{"Zvonek":1,"Tue":1},M:{"Datle":1},L:{"ƒåerven√° bylina":1},Lplus:{L:10,"R≈Ø≈æov√° orchidej":5,"Modr√° orchidej":2,"Yangy":2000000}},
    utok:{typ:"klasicky",S:{"Broskvov√Ω kvƒõt":1,"Tue":1},M:{"Datle":1},L:{"ƒåerven√° bylina":1},Lplus:{L:10,"R≈Ø≈æov√° orchidej":2,"Modr√° orchidej":5,"Yangy":2000000}},
    obrana:{typ:"klasicky",S:{"Kakikvƒõt":1,"Tue":1},M:{"Datle":1},L:{"ƒåerven√° bylina":1},Lplus:{L:10,"R≈Ø≈æov√° orchidej":2,"Modr√° orchidej":5,"Yangy":2000000}},
    sila:{typ:"statovy",S:{"Broskvov√Ω kvƒõt":1},M:{"Fialov√° bylina":1},Lplus:{L:6,"R≈Ø≈æov√° orchidej":2,"Modr√° orchidej":2,"Yangy":500000}},
    obratnost:{typ:"statovy",S:{"Kakikvƒõt":1},M:{"Fialov√° bylina":1},Lplus:{L:6,"R≈Ø≈æov√° orchidej":2,"Modr√° orchidej":2,"Yangy":500000}},
    inteligence:{typ:"statovy",S:{"Zvonek":1},M:{"Fialov√° bylina":1},Lplus:{L:6,"R≈Ø≈æov√° orchidej":2,"Modr√° orchidej":2,"Yangy":500000}},
    vitalita:{typ:"statovy",S:{"Ko≈ôen Gango":1},M:{"Fialov√° bylina":1},Lplus:{L:6,"R≈Ø≈æov√° orchidej":2,"Modr√° orchidej":2,"Yangy":500000}}
};

function nastavVelikosti(){
    const el = document.getElementById("elixir").value;
    const v = document.getElementById("velikost");

    // üîê ulo≈æ√≠me aktu√°lnƒõ zvolen√Ω tier
    const puvodniTier = v.value;

    v.innerHTML = "";

    let dostupneTiery = [];

    if (recepty[el].typ === "klasicky") {
        dostupneTiery = ["S","S+","M","M+","L","L+"];
    } else {
        dostupneTiery = ["S","S+","L","L+"];
    }

    dostupneTiery.forEach(t => v.add(new Option(t, t)));

    // üîÅ pokud p≈Øvodn√≠ tier existuje, vra≈• ho
    if (dostupneTiery.includes(puvodniTier)) {
        v.value = puvodniTier;
    }
}



function formatCislo(c){return c.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");}

function spocitat(){
    const vysledekDiv = document.getElementById("vysledek");
    vysledekDiv.classList.add("fade");

    setTimeout(() => {
        const el=document.getElementById("elixir").value;
        const tier=document.getElementById("velikost").value;
        const kusy=parseInt(document.getElementById("kusy").value);
        const r=recepty[el];
        const vysl={};

        function add(n,v){vysl[n]=(vysl[n]||0)+v;}
        function vyrob(t,k){
    if(t==="S"){
        for(let i in r.S) add(i,r.S[i]*k);
    }

    if(t==="M"){
        vyrob("S",k);
        for(let i in r.M) add(i,r.M[i]*k);
    }

    if(t==="L"){
        vyrob("M",k);
        for(let i in r.L) add(i,r.L[i]*k);
    }

    if(t==="S+"){
        vyrob("S",10*k);
        for(let i in r.Lplus){
            if(i!=="L") add(i,r.Lplus[i]*k);
        }
    }

    if(t==="M+"){
        vyrob("M",10*k);
        for(let i in r.Lplus){
            if(i!=="L") add(i,r.Lplus[i]*k);
        }
    }

    if(t==="L+"){
        vyrob("L",10*k);
        for(let i in r.Lplus){
            if(i!=="L") add(i,r.Lplus[i]*k);
        }
    }
}


        vyrob(tier,kusy);

        let out = "";

for (let i in vysl) {
    const icon = surovinyIkony[i]
        ? `<img src="${surovinyIkony[i]}" style="width:20px; vertical-align:middle; margin-right:6px;">`
        : "";

    out += `
<div class="surovina-row">
    ${icon}
    <div class="surovina-nazev">${i}</div>
    <div class="surovina-pocet">√ó ${formatCislo(vysl[i])}</div>
    </div>`;
}

vysledekDiv.innerHTML = out;

        vysledekDiv.classList.remove("fade");
    }, 120);
}

function autoSpocitat(){
    const kusy = document.getElementById("kusy").value;
    const velikost = document.getElementById("velikost").value;
    if(kusy && velikost) spocitat();
}

document.getElementById("elixir").addEventListener("change", autoSpocitat);
document.getElementById("velikost").addEventListener("change", autoSpocitat);
document.getElementById("velikost").addEventListener("change", zmenIkonu);
document.getElementById("kusy").addEventListener("input", autoSpocitat);

nastavVelikosti();
zmenIkonu();
autoSpocitat();
</script>

</body>
</html>
